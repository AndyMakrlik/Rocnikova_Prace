{"ast":null,"code":"import React from'react';import{useEffect}from'react';import axios from'axios';import{useState}from'react';import toast from'react-hot-toast';import CarAddOwner from'../components/CarAddOwner.js';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function MyAdd(){const[cars,setCars]=useState([]);const[favourites,setFavourites]=useState([]);useEffect(()=>{axios.get('http://localhost:3001/favor',{withCredentials:true}).then(res=>{if(res.data.Status==='Success'){setFavourites(res.data.favourites.map(fav=>fav.fk_inzerat));}else{return;}}).catch(error=>{toast.error('Došlo k chybě při načítání inzerátů. '+error);});axios.get(`http://localhost:3001/myadd`,{withCredentials:true}).then(res=>{if(res.data.Status===\"Success\"){setCars(res.data.cars);}else{return;}}).catch(error=>{toast.error(\"Došlo k chybě při náčítání inzerátů. \"+error);});},[]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Moje Inzer\\xE1ty\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col col-lg-12 col-xl-12\",children:cars.map(car=>/*#__PURE__*/_jsx(CarAddOwner,{car:car,isFavourite:favourites.includes(car.id)},car.id))})})]})});}","map":{"version":3,"names":["React","useEffect","axios","useState","toast","CarAddOwner","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MyAdd","cars","setCars","favourites","setFavourites","get","withCredentials","then","res","data","Status","map","fav","fk_inzerat","catch","error","children","className","car","isFavourite","includes","id"],"sources":["C:/Users/denny/Documents/GitHub/Rocnikova_Prace/client/src/pages/MyAdd.js"],"sourcesContent":["import React from 'react'\r\nimport { useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { useState } from 'react';\r\nimport toast from 'react-hot-toast';\r\nimport CarAddOwner from '../components/CarAddOwner.js'\r\n\r\nexport default function MyAdd() {\r\n    const [cars, setCars] = useState([]);\r\n    const [favourites, setFavourites] = useState([]);\r\n\r\n    useEffect(() => {\r\n        axios.get('http://localhost:3001/favor', { withCredentials: true })\r\n            .then(res => {\r\n                if (res.data.Status === 'Success') {\r\n                    setFavourites(res.data.favourites.map(fav => fav.fk_inzerat))\r\n                } else {\r\n                    return;\r\n                }\r\n            })\r\n            .catch(error => {\r\n                toast.error('Došlo k chybě při načítání inzerátů. ' + error)\r\n            })\r\n\r\n        axios.get(`http://localhost:3001/myadd`, { withCredentials: true })\r\n            .then(res => {\r\n                if (res.data.Status === \"Success\") {\r\n                    setCars(res.data.cars)\r\n                } else {\r\n                    return;\r\n                }\r\n            })\r\n            .catch(error => {\r\n                toast.error(\"Došlo k chybě při náčítání inzerátů. \" + error);\r\n            });\r\n    }, [])\r\n    return (\r\n        <>\r\n            <div className='container text-center'>\r\n                <h2>Moje Inzeráty</h2>\r\n                <hr></hr>\r\n                <div className=\"row\">\r\n                    <div className=\"col col-lg-12 col-xl-12\">\r\n                        {cars.map(car => (\r\n                            <CarAddOwner key={car.id} car={car} isFavourite={favourites.includes(car.id)}/>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,SAAS,KAAQ,OAAO,CACjC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,KAAQ,OAAO,CAChC,MAAO,CAAAC,KAAK,KAAM,iBAAiB,CACnC,MAAO,CAAAC,WAAW,KAAM,8BAA8B,QAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEtD,cAAe,SAAS,CAAAC,KAAKA,CAAA,CAAG,CAC5B,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CACpC,KAAM,CAACY,UAAU,CAAEC,aAAa,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAEhDF,SAAS,CAAC,IAAM,CACZC,KAAK,CAACe,GAAG,CAAC,6BAA6B,CAAE,CAAEC,eAAe,CAAE,IAAK,CAAC,CAAC,CAC9DC,IAAI,CAACC,GAAG,EAAI,CACT,GAAIA,GAAG,CAACC,IAAI,CAACC,MAAM,GAAK,SAAS,CAAE,CAC/BN,aAAa,CAACI,GAAG,CAACC,IAAI,CAACN,UAAU,CAACQ,GAAG,CAACC,GAAG,EAAIA,GAAG,CAACC,UAAU,CAAC,CAAC,CACjE,CAAC,IAAM,CACH,OACJ,CACJ,CAAC,CAAC,CACDC,KAAK,CAACC,KAAK,EAAI,CACZvB,KAAK,CAACuB,KAAK,CAAC,uCAAuC,CAAGA,KAAK,CAAC,CAChE,CAAC,CAAC,CAENzB,KAAK,CAACe,GAAG,CAAC,6BAA6B,CAAE,CAAEC,eAAe,CAAE,IAAK,CAAC,CAAC,CAC9DC,IAAI,CAACC,GAAG,EAAI,CACT,GAAIA,GAAG,CAACC,IAAI,CAACC,MAAM,GAAK,SAAS,CAAE,CAC/BR,OAAO,CAACM,GAAG,CAACC,IAAI,CAACR,IAAI,CAAC,CAC1B,CAAC,IAAM,CACH,OACJ,CACJ,CAAC,CAAC,CACDa,KAAK,CAACC,KAAK,EAAI,CACZvB,KAAK,CAACuB,KAAK,CAAC,uCAAuC,CAAGA,KAAK,CAAC,CAChE,CAAC,CAAC,CACV,CAAC,CAAE,EAAE,CAAC,CACN,mBACIpB,IAAA,CAAAI,SAAA,EAAAiB,QAAA,cACInB,KAAA,QAAKoB,SAAS,CAAC,uBAAuB,CAAAD,QAAA,eAClCrB,IAAA,OAAAqB,QAAA,CAAI,kBAAa,CAAI,CAAC,cACtBrB,IAAA,QAAQ,CAAC,cACTA,IAAA,QAAKsB,SAAS,CAAC,KAAK,CAAAD,QAAA,cAChBrB,IAAA,QAAKsB,SAAS,CAAC,yBAAyB,CAAAD,QAAA,CACnCf,IAAI,CAACU,GAAG,CAACO,GAAG,eACTvB,IAAA,CAACF,WAAW,EAAcyB,GAAG,CAAEA,GAAI,CAACC,WAAW,CAAEhB,UAAU,CAACiB,QAAQ,CAACF,GAAG,CAACG,EAAE,CAAE,EAA3DH,GAAG,CAACG,EAAwD,CACjF,CAAC,CACD,CAAC,CACL,CAAC,EACL,CAAC,CACR,CAAC,CAEX","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}