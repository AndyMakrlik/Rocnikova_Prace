{"ast":null,"code":"import React from'react';import axios from'axios';import toast from'react-hot-toast';import{Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Ad(_ref){let{ad}=_ref;const handleDelete=async(adId,fk_auto,e)=>{e.preventDefault();const isConfirmed=window.confirm('Oprvadu chcete tento inzerát smazat?');if(!isConfirmed){return;}try{const response=await axios.delete(`http://localhost:3001/ad/${adId}/${fk_auto}`,{withCredentials:true});if(response.data.Status==='Success'){window.location.reload();toast.success('Inzerát úspěšně smazán.');}else{toast.error(response.data.Error);}}catch(error){toast.error('Chyba při mazání inzerátu.');}};const formatDate=dateString=>{const date=new Date(dateString);const day=date.getDate().toString().padStart(2,'0');// Den\nconst month=(date.getMonth()+1).toString().padStart(2,'0');// Měsíc (měsíce jsou od 0)\nconst year=date.getFullYear();// Rok\nreturn`${day}. ${month}. ${year}`;};return/*#__PURE__*/_jsx(Link,{to:`/car/${ad.id}`,style:{textDecoration:'none',color:'inherit'},children:/*#__PURE__*/_jsx(\"div\",{className:\"card mb-3\",style:{display:'flex',flexDirection:'column',height:'100%',padding:'15px'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",style:{display:'flex',flexDirection:'column',flexGrow:1,justifyContent:'space-between'},children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title fw-bold\",children:ad.nazev}),/*#__PURE__*/_jsx(\"img\",{alt:\"auto\",className:\"img-fluid\",src:ad.obrazek}),/*#__PURE__*/_jsxs(\"h6\",{className:\"card-text\",style:{color:ad.stav==='Aktivní'?'green':ad.stav==='Rezervovaný'?'orange':ad.stav==='Zrušený'?'red':'black'},children:[/*#__PURE__*/_jsx(\"span\",{className:\"fw-bold\",style:{color:'black'},children:\"Stav: \"}),ad.stav]}),/*#__PURE__*/_jsxs(\"h6\",{className:\"card-text\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"fw-bold\",style:{color:'black'},children:\"Inzerent: \"}),\" \",ad.jmeno,\" \",ad.prijmeni]}),/*#__PURE__*/_jsxs(\"h6\",{className:\"card-text\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"fw-bold\",style:{color:'black'},children:\"Email: \"}),\" \",ad.email]}),/*#__PURE__*/_jsxs(\"h6\",{className:\"card-text\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"fw-bold\",style:{color:'black'},children:\"Datum vytvo\\u0159en\\xED: \"}),\" \",formatDate(ad.datum_vytvoreni)]}),/*#__PURE__*/_jsxs(\"h6\",{className:\"card-text\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"fw-bold\",style:{color:'black'},children:\"Datum aktualizace: \"}),\" \",formatDate(ad.datum_aktualizace)]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-between\",children:/*#__PURE__*/_jsx(\"button\",{style:{width:'100%'},className:\"btn btn-danger\",onClick:e=>handleDelete(ad.id,ad.fk_auto,e),children:\"Smazat\"})})]})})});}","map":{"version":3,"names":["React","axios","toast","Link","jsx","_jsx","jsxs","_jsxs","Ad","_ref","ad","handleDelete","adId","fk_auto","e","preventDefault","isConfirmed","window","confirm","response","delete","withCredentials","data","Status","location","reload","success","error","Error","formatDate","dateString","date","Date","day","getDate","toString","padStart","month","getMonth","year","getFullYear","to","id","style","textDecoration","color","children","className","display","flexDirection","height","padding","flexGrow","justifyContent","nazev","alt","src","obrazek","stav","jmeno","prijmeni","email","datum_vytvoreni","datum_aktualizace","width","onClick"],"sources":["C:/Users/denny/Documents/GitHub/Rocnikova_Prace/client/src/components/Ad.js"],"sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport toast from 'react-hot-toast';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function Ad({ ad }) {\r\n\r\n  const handleDelete = async (adId, fk_auto, e) => {\r\n    e.preventDefault();\r\n\r\n    const isConfirmed = window.confirm('Oprvadu chcete tento inzerát smazat?');\r\n    if (!isConfirmed) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await axios.delete(`http://localhost:3001/ad/${adId}/${fk_auto}`, { withCredentials: true });\r\n      if (response.data.Status === 'Success') {\r\n        window.location.reload();\r\n        toast.success('Inzerát úspěšně smazán.');\r\n      } else {\r\n        toast.error(response.data.Error);\r\n      }\r\n    } catch (error) {\r\n      toast.error('Chyba při mazání inzerátu.');\r\n    }\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    const date = new Date(dateString);\r\n    const day = date.getDate().toString().padStart(2, '0'); // Den\r\n    const month = (date.getMonth() + 1).toString().padStart(2, '0'); // Měsíc (měsíce jsou od 0)\r\n    const year = date.getFullYear(); // Rok\r\n    return `${day}. ${month}. ${year}`;\r\n  };\r\n\r\n  return (\r\n    <Link to={`/car/${ad.id}`} style={{ textDecoration: 'none', color: 'inherit'}}>\r\n      <div className=\"card mb-3\" style={{ display: 'flex', flexDirection: 'column', height: '100%', padding: '15px' }}>\r\n        <div className=\"card-body\" style={{ display: 'flex', flexDirection: 'column', flexGrow: 1, justifyContent: 'space-between' }}>\r\n          <h5 className=\"card-title fw-bold\">{ad.nazev}</h5>\r\n          <img alt='auto' className='img-fluid' src={ad.obrazek}></img>\r\n          <h6 className=\"card-text\" style={{ color: ad.stav === 'Aktivní' ? 'green' : ad.stav === 'Rezervovaný' ? 'orange' : ad.stav === 'Zrušený' ? 'red' : 'black' }}><span className='fw-bold' style={{color: 'black'}}>Stav: </span>{ad.stav}</h6>\r\n          <h6 className=\"card-text\"><span className='fw-bold' style={{color: 'black'}}>Inzerent: </span> {ad.jmeno} {ad.prijmeni}</h6>\r\n          <h6 className=\"card-text\"><span className='fw-bold' style={{color: 'black'}}>Email: </span> {ad.email}</h6>\r\n          <h6 className=\"card-text\">\r\n            <span className='fw-bold' style={{color: 'black'}}>Datum vytvoření: </span> {formatDate(ad.datum_vytvoreni)}\r\n          </h6>\r\n          <h6 className=\"card-text\">\r\n            <span className='fw-bold' style={{color: 'black'}}>Datum aktualizace: </span> {formatDate(ad.datum_aktualizace)}\r\n          </h6>\r\n          <div className=\"d-flex justify-content-between\">\r\n            <button style={{ width: '100%' }} className=\"btn btn-danger\" onClick={(e) => handleDelete(ad.id, ad.fk_auto, e)}>\r\n              Smazat\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Link>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}