{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\denny\\\\Documents\\\\RocnikovaPrace3ITB\\\\client\\\\src\\\\pages\\\\Add.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useEffect } from 'react';\nimport CheckAuth from '../functions/checkAuthUnLogged';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Add() {\n  _s();\n  const navigate = useNavigate();\n  useEffect(() => {\n    CheckAuth(navigate);\n  });\n  const handleSubmit = e => {\n    e.preventDefault();\n    const hesloRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[\\W_])(?!.*\\s).{8,}$/;\n    const jmenoRegex = /^[a-zA-ZÀ-ž]+$/;\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    const predvolbaBezMezer = values.predvolba.replace(/\\s+/g, '');\n    const telefonBezMezer = values.telefon.replace(/\\s+/g, '');\n    values.celyTelefon = `${predvolbaBezMezer}${telefonBezMezer}`;\n    if (!values.jmeno || !jmenoRegex.test(values.jmeno)) {\n      toast.error('Jméno musí být vyplněné a obsahovat pouze písmena bez mezer.');\n    } else if (!values.prijmeni || !jmenoRegex.test(values.prijmeni)) {\n      toast.error('Příjmení musí být vyplněné a obsahovat pouze písmena bez mezer.');\n    } else if (!hesloRegex.test(values.heslo)) {\n      toast.error('Heslo nesmí obsahovat mezery, musí mít alespoň 8 znaků, obsahovat malé a velké písmeno, číslici a speciální znak (@, #, &).');\n    } else if (values.heslo !== values.hesloZnovu) {\n      toast.error('Hesla se neshodují.');\n    } else if (!/^\\d{9,15}$/.test(telefonBezMezer)) {\n      toast.error('Telefonní číslo musí být mezi 9 a 15 číslicemi.');\n    } else if (!values.email) {\n      toast.error('Prosím vyplňtě email.');\n    } else if (!emailRegex.test(values.email)) {\n      toast.error('Zadejte prosím email ve správném formátu. (example@gmail.com)');\n    } else if (!values.kraj) {\n      toast.error('Prosím, vyberte kraj.');\n    } else if (!values.mesto) {\n      toast.error('Prosím, vypište město.');\n    } else {\n      axios.post(\"http://localhost:3001/registrace\", values).then(res => {\n        if (res.data.Status === \"Success\") {\n          toast.success(\"Úspěšná registrace, nyní se můžete přihlásit.\");\n          navigate('/Login');\n        } else {\n          toast.error(res.data.Error);\n        }\n      }).catch(error => console.log(\"Chyba při odesílání formuláře:\", error));\n      console.log(\"Formulář odeslán:\", values);\n      console.log('Uložené číslo: ', values.celyTelefon);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Vlo\\u017Een\\xED Inzer\\xE1tu\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-12 col-xxl-6 col-xl-6 col-lg-6 col-md-12 col-sm-12\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_s(Add, \"0pNeyzXk/ByIxyERsdaIrG6js9s=\", false, function () {\n  return [useNavigate];\n});\n_c = Add;\nvar _c;\n$RefreshReg$(_c, \"Add\");","map":{"version":3,"names":["React","useEffect","CheckAuth","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","Add","_s","navigate","handleSubmit","e","preventDefault","hesloRegex","jmenoRegex","emailRegex","predvolbaBezMezer","values","predvolba","replace","telefonBezMezer","telefon","celyTelefon","jmeno","test","toast","error","prijmeni","heslo","hesloZnovu","email","kraj","mesto","axios","post","then","res","data","Status","success","Error","catch","console","log","children","className","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","_c","$RefreshReg$"],"sources":["C:/Users/denny/Documents/RocnikovaPrace3ITB/client/src/pages/Add.js"],"sourcesContent":["import React from 'react'\r\nimport { useEffect } from 'react';\r\nimport CheckAuth from '../functions/checkAuthUnLogged';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nexport default function Add() {\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    CheckAuth(navigate);\r\n  });\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const hesloRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[\\W_])(?!.*\\s).{8,}$/;\r\n    const jmenoRegex = /^[a-zA-ZÀ-ž]+$/;\r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n\r\n    const predvolbaBezMezer = values.predvolba.replace(/\\s+/g, '');\r\n    const telefonBezMezer = values.telefon.replace(/\\s+/g, '');\r\n    values.celyTelefon = `${predvolbaBezMezer}${telefonBezMezer}`;\r\n\r\n    if (!values.jmeno || !jmenoRegex.test(values.jmeno)) {\r\n      toast.error('Jméno musí být vyplněné a obsahovat pouze písmena bez mezer.');\r\n    } else if (!values.prijmeni || !jmenoRegex.test(values.prijmeni)) {\r\n      toast.error('Příjmení musí být vyplněné a obsahovat pouze písmena bez mezer.');\r\n    } else if (!hesloRegex.test(values.heslo)) {\r\n      toast.error('Heslo nesmí obsahovat mezery, musí mít alespoň 8 znaků, obsahovat malé a velké písmeno, číslici a speciální znak (@, #, &).');\r\n    } else if (values.heslo !== values.hesloZnovu) {\r\n      toast.error('Hesla se neshodují.');\r\n    } else if (!/^\\d{9,15}$/.test(telefonBezMezer)) {\r\n      toast.error('Telefonní číslo musí být mezi 9 a 15 číslicemi.');\r\n    } else if (!values.email) {\r\n      toast.error('Prosím vyplňtě email.');\r\n    } else if (!emailRegex.test(values.email)) {\r\n      toast.error('Zadejte prosím email ve správném formátu. (example@gmail.com)')\r\n    } else if (!values.kraj) {\r\n      toast.error('Prosím, vyberte kraj.')\r\n    } else if (!values.mesto) {\r\n      toast.error('Prosím, vypište město.')\r\n    } else {\r\n\r\n      axios.post(\"http://localhost:3001/registrace\", values)\r\n        .then(res => {\r\n          if (res.data.Status === \"Success\") {\r\n            toast.success(\"Úspěšná registrace, nyní se můžete přihlásit.\");\r\n            navigate('/Login');\r\n          } else {\r\n            toast.error(res.data.Error);\r\n          }\r\n        })\r\n        .catch(error => console.log(\"Chyba při odesílání formuláře:\", error));\r\n\r\n      console.log(\"Formulář odeslán:\", values);\r\n      console.log('Uložené číslo: ', values.celyTelefon);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className='container text-center'>\r\n        <h2>Vložení Inzerátu</h2>\r\n        <hr></hr>\r\n        <div className='row'>\r\n          <form onSubmit={handleSubmit}>\r\n            <div className='col-12 col-xxl-6 col-xl-6 col-lg-6 col-md-12 col-sm-12'>\r\n            \r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}