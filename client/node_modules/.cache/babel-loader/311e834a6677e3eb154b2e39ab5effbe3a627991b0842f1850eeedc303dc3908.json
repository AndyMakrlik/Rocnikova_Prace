{"ast":null,"code":"import React from'react';import axios from'axios';import toast from'react-hot-toast';import{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const User=_ref=>{let{user}=_ref;const[data,setData]=useState(user);const handleDelete=async()=>{const isConfirmed=window.confirm('Opravdu chcete smazat tohoto uživatele?');if(!isConfirmed)return;try{const response=await axios.delete(`http://localhost:3001/user/${user.id}`,{withCredentials:true});if(response.data.Status==='Success'){toast.success('Uživatel úspěšně smazán.');window.location.reload();}else{toast.error(response.data.Error);}}catch(error){toast.error('Chyba při mazání uživatele.');}};const handleChangeRole=async()=>{const newRole=data.role==='Admin'?'Uživatel':'Admin';const isConfirmed=window.confirm(`Opravdu chcete změnit roli na ${newRole}?`);if(!isConfirmed)return;try{const response=await axios.post(`http://localhost:3001/user/${data.id}/role`,{role:newRole},{withCredentials:true});if(response.data.Status==='Success'){setData(prevData=>({...prevData,role:newRole}));toast.success(`Role změněna na ${newRole}.`);}else{toast.error(response.data.Error);}}catch(error){toast.error('Chyba při změně role.');}};return/*#__PURE__*/_jsx(\"div\",{className:\"card mb-3\",style:{display:'flex',flexDirection:'column',height:'100%',padding:'15px'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",style:{display:'flex',flexDirection:'column',flexGrow:1,justifyContent:'space-between'},children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title fw-bold\",children:`${data.jmeno} ${data.prijmeni}`}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center',alignItems:'center',marginBottom:'10px'},children:/*#__PURE__*/_jsxs(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"100\",height:\"100\",fill:\"currentColor\",className:\"bi bi-person-circle\",viewBox:\"0 0 16 16\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0\"}),/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1\"})]})}),/*#__PURE__*/_jsxs(\"h6\",{className:\"card-text\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"fw-bold\",style:{color:'black'},children:\"Email: \"}),\" \",data.email]}),/*#__PURE__*/_jsxs(\"h6\",{className:\"card-text\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"fw-bold\",style:{color:'black'},children:\"Telefon: \"}),\" \",data.telefon]}),/*#__PURE__*/_jsxs(\"h6\",{className:\"card-text\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"fw-bold\",style:{color:'black'},children:\"Role: \"}),\" \",data.role]}),/*#__PURE__*/_jsxs(\"h6\",{className:\"card-text\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"fw-bold\",style:{color:'black'},children:\"Datum registrace: \"}),\" \",new Date(data.datum_registrace).toLocaleDateString()]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:handleDelete,children:\"Smazat\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:handleChangeRole,children:\"Zm\\u011Bnit roli\"})]})]})});};export default User;","map":{"version":3,"names":["React","axios","toast","useState","jsx","_jsx","jsxs","_jsxs","User","_ref","user","data","setData","handleDelete","isConfirmed","window","confirm","response","delete","id","withCredentials","Status","success","location","reload","error","Error","handleChangeRole","newRole","role","post","prevData","className","style","display","flexDirection","height","padding","children","flexGrow","justifyContent","jmeno","prijmeni","alignItems","marginBottom","xmlns","width","fill","viewBox","d","fillRule","color","email","telefon","Date","datum_registrace","toLocaleDateString","onClick"],"sources":["C:/Users/denny/Documents/GitHub/Rocnikova_Prace/client/src/components/User.js"],"sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport toast from 'react-hot-toast';\r\nimport { useState } from 'react';\r\n\r\nconst User = ({ user }) => {\r\n  const [data, setData] = useState(user);\r\n\r\n  const handleDelete = async () => {\r\n    const isConfirmed = window.confirm('Opravdu chcete smazat tohoto uživatele?');\r\n    if (!isConfirmed) return;\r\n\r\n    try {\r\n      const response = await axios.delete(`http://localhost:3001/user/${user.id}`, { withCredentials: true });\r\n      if (response.data.Status === 'Success') {\r\n        toast.success('Uživatel úspěšně smazán.');\r\n        window.location.reload();\r\n      } else {\r\n        toast.error(response.data.Error);\r\n      }\r\n    } catch (error) {\r\n      toast.error('Chyba při mazání uživatele.');\r\n    }\r\n  };\r\n\r\n  const handleChangeRole = async () => {\r\n    const newRole = data.role === 'Admin' ? 'Uživatel' : 'Admin';\r\n\r\n    const isConfirmed = window.confirm(`Opravdu chcete změnit roli na ${newRole}?`);\r\n    if (!isConfirmed) return;\r\n\r\n    try {\r\n      const response = await axios.post(\r\n        `http://localhost:3001/user/${data.id}/role`,\r\n        { role: newRole },\r\n        { withCredentials: true }\r\n      );\r\n      if (response.data.Status === 'Success') {\r\n        setData((prevData) => ({\r\n          ...prevData,\r\n          role: newRole,\r\n        }));\r\n        toast.success(`Role změněna na ${newRole}.`);\r\n      } else {\r\n        toast.error(response.data.Error);\r\n      }\r\n    } catch (error) {\r\n      toast.error('Chyba při změně role.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"card mb-3\" style={{ display: 'flex', flexDirection: 'column', height: '100%', padding: '15px' }}>\r\n      <div className=\"card-body\" style={{ display: 'flex', flexDirection: 'column', flexGrow: 1, justifyContent: 'space-between' }}>\r\n        <h5 className=\"card-title fw-bold\">{`${data.jmeno} ${data.prijmeni}`}</h5>\r\n        <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', marginBottom: '10px' }}>\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100\" height=\"100\" fill=\"currentColor\" className=\"bi bi-person-circle\" viewBox=\"0 0 16 16\">\r\n            <path d=\"M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0\" />\r\n            <path fillRule=\"evenodd\" d=\"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1\" />\r\n          </svg>\r\n        </div>\r\n        <h6 className=\"card-text\"><span className='fw-bold' style={{color: 'black'}}>Email: </span> {data.email}</h6>\r\n        <h6 className=\"card-text\"><span className='fw-bold' style={{color: 'black'}}>Telefon: </span> {data.telefon}</h6>\r\n        <h6 className=\"card-text\"><span className='fw-bold' style={{color: 'black'}}>Role: </span> {data.role}</h6>\r\n        <h6 className=\"card-text\"><span className='fw-bold' style={{color: 'black'}}>Datum registrace: </span> {new Date(data.datum_registrace).toLocaleDateString()}</h6>\r\n        <div className=\"d-flex justify-content-between\">\r\n          <button className=\"btn btn-danger\" onClick={handleDelete}>\r\n            Smazat\r\n          </button>\r\n          <button className=\"btn btn-primary\" onClick={handleChangeRole}>\r\n            Změnit roli\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default User;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}