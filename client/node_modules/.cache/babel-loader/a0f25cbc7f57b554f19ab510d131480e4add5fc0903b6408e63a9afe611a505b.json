{"ast":null,"code":"import React from'react';import{useState}from'react';import{useNavigate,useParams}from'react-router-dom';import{toast}from'react-hot-toast';import{useEffect}from'react';import CheckAuth from'../functions/checkAuthLogged';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function RestorePassword(){const navigate=useNavigate();useEffect(()=>{CheckAuth(navigate);});const[heslo,setPassword]=useState();const{token}=useParams();const handleSubmit=e=>{e.preventDefault();const hesloRegex=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[\\W_])(?!.*\\s).{8,}$/;if(!hesloRegex.test(heslo)){toast.error('Heslo nesmí obsahovat mezery, musí mít alespoň 8 znaků, obsahovat malé a velké písmeno, číslici a speciální znak (@, #, &).');}else{axios.post(`http://localhost:3001/restorePassword/${token}`,{heslo},{withCredentials:true}).then(res=>{if(res.data.Status==='Success'){toast.success(\"Heslo bylo úspěšně změněno.\");navigate('/login');}else{toast.error(res.data.Error);}});}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center text-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-4 col-xxl-4 col-xl-4 col-lg-4 col-md-4\",style:{marginBottom:50},children:[/*#__PURE__*/_jsx(\"h4\",{style:{marginBottom:20},children:\"Obnoven\\xED Hesla\"}),/*#__PURE__*/_jsx(\"h6\",{children:\"Zadejte va\\u0161e nov\\xE9 heslo\"})]})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row justify-content-center\",style:{marginBottom:50},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-4 col-xxl-4 col-xl-4 col-lg-4 col-md-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"form-label\",children:\"Heslo\"}),/*#__PURE__*/_jsx(\"input\",{id:\"password\",type:\"password\",className:\"form-control\",placeholder:\"Zadejte Heslo\",onChange:e=>setPassword(e.target.value)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",style:{marginBottom:'30px'},children:/*#__PURE__*/_jsx(\"div\",{className:\"col-4 col-xxl-4 col-xl-4 col-lg-4 col-md-4\",children:\"Heslo nesm\\xED obsahovat mezery, mus\\xED m\\xEDt alespo\\u0148 8 znak\\u016F, obsahovat mal\\xE9 a velk\\xE9 p\\xEDsmeno, \\u010D\\xEDslici a speci\\xE1ln\\xED znak (@, #, &).\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-4 col-xxl-4 col-xl-4 col-lg-4 col-md-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn-border-radius-lg form-control btn btn-outline-secondary\",children:\"Zm\\u011Bnit\"})})})})})]})]})});}export default RestorePassword;","map":{"version":3,"names":["React","useState","useNavigate","useParams","toast","useEffect","CheckAuth","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","RestorePassword","navigate","heslo","setPassword","token","handleSubmit","e","preventDefault","hesloRegex","test","error","post","withCredentials","then","res","data","Status","success","Error","children","className","style","marginBottom","onSubmit","htmlFor","id","type","placeholder","onChange","target","value"],"sources":["C:/Users/denny/Documents/GitHub/Rocnikova_Prace/client/src/pages/RestorePassword.js"],"sourcesContent":["import React from 'react'\r\nimport { useState } from 'react';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport { toast } from 'react-hot-toast';\r\nimport { useEffect } from 'react';\r\nimport CheckAuth from '../functions/checkAuthLogged';\r\nimport axios from 'axios';\r\n\r\nfunction RestorePassword() {\r\n\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        CheckAuth(navigate);\r\n      });\r\n    \r\n\r\n    const [heslo, setPassword] = useState();\r\n\r\n    const { token } = useParams();\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        const hesloRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[\\W_])(?!.*\\s).{8,}$/;\r\n\r\n        if (!hesloRegex.test(heslo)) {\r\n            toast.error('Heslo nesmí obsahovat mezery, musí mít alespoň 8 znaků, obsahovat malé a velké písmeno, číslici a speciální znak (@, #, &).');\r\n        } else {\r\n            axios.post(`http://localhost:3001/restorePassword/${token}`, { heslo }, { withCredentials: true })\r\n                .then(res => {\r\n                    if (res.data.Status === 'Success') {\r\n                        toast.success(\"Heslo bylo úspěšně změněno.\")\r\n                        navigate('/login');\r\n                    } else {\r\n                        toast.error(res.data.Error)\r\n                    }\r\n                })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className='container'>\r\n                <div className='row justify-content-center text-center'>\r\n                    <div className='col-4 col-xxl-4 col-xl-4 col-lg-4 col-md-4' style={{ marginBottom: 50 }}>\r\n                        <h4 style={{ marginBottom: 20 }}>Obnovení Hesla</h4>\r\n                        <h6>Zadejte vaše nové heslo</h6>\r\n                    </div>\r\n                </div>\r\n                <form onSubmit={handleSubmit}>\r\n                    <div className='row justify-content-center' style={{ marginBottom: 50 }}>\r\n                        <div className='col-4 col-xxl-4 col-xl-4 col-lg-4 col-md-4'>\r\n                            <label htmlFor='password' className='form-label'>Heslo</label>\r\n                            <input id='password' type='password' className='form-control' placeholder='Zadejte Heslo'\r\n                                onChange={e => setPassword(e.target.value)}></input>\r\n                        </div>\r\n                        <div className='row justify-content-center' style={{ marginBottom: '30px' }}>\r\n                            <div className=\"col-4 col-xxl-4 col-xl-4 col-lg-4 col-md-4\">Heslo nesmí obsahovat mezery, musí mít alespoň 8 znaků, obsahovat malé a velké písmeno, číslici a speciální znak (@, #, &).</div>\r\n                        </div>\r\n                    </div>\r\n                    <div className='row justify-content-center'>\r\n                        <div className='col-4 col-xxl-4 col-xl-4 col-lg-4 col-md-4'>\r\n                            <div className='row'>\r\n                                <div className='col'>\r\n                                    <button type='submit' className='btn-border-radius-lg form-control btn btn-outline-secondary'>Změnit</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default RestorePassword"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,KAAQ,OAAO,CAChC,OAASC,WAAW,CAAEC,SAAS,KAAQ,kBAAkB,CACzD,OAASC,KAAK,KAAQ,iBAAiB,CACvC,OAASC,SAAS,KAAQ,OAAO,CACjC,MAAO,CAAAC,SAAS,KAAM,8BAA8B,CACpD,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAE1B,QAAS,CAAAC,eAAeA,CAAA,CAAG,CAEvB,KAAM,CAAAC,QAAQ,CAAGb,WAAW,CAAC,CAAC,CAE9BG,SAAS,CAAC,IAAM,CACZC,SAAS,CAACS,QAAQ,CAAC,CACrB,CAAC,CAAC,CAGJ,KAAM,CAACC,KAAK,CAAEC,WAAW,CAAC,CAAGhB,QAAQ,CAAC,CAAC,CAEvC,KAAM,CAAEiB,KAAM,CAAC,CAAGf,SAAS,CAAC,CAAC,CAE7B,KAAM,CAAAgB,YAAY,CAAIC,CAAC,EAAK,CACxBA,CAAC,CAACC,cAAc,CAAC,CAAC,CAElB,KAAM,CAAAC,UAAU,CAAG,0DAA0D,CAE7E,GAAI,CAACA,UAAU,CAACC,IAAI,CAACP,KAAK,CAAC,CAAE,CACzBZ,KAAK,CAACoB,KAAK,CAAC,6HAA6H,CAAC,CAC9I,CAAC,IAAM,CACHjB,KAAK,CAACkB,IAAI,CAAC,yCAAyCP,KAAK,EAAE,CAAE,CAAEF,KAAM,CAAC,CAAE,CAAEU,eAAe,CAAE,IAAK,CAAC,CAAC,CAC7FC,IAAI,CAACC,GAAG,EAAI,CACT,GAAIA,GAAG,CAACC,IAAI,CAACC,MAAM,GAAK,SAAS,CAAE,CAC/B1B,KAAK,CAAC2B,OAAO,CAAC,6BAA6B,CAAC,CAC5ChB,QAAQ,CAAC,QAAQ,CAAC,CACtB,CAAC,IAAM,CACHX,KAAK,CAACoB,KAAK,CAACI,GAAG,CAACC,IAAI,CAACG,KAAK,CAAC,CAC/B,CACJ,CAAC,CAAC,CACV,CACJ,CAAC,CAED,mBACIvB,IAAA,CAAAI,SAAA,EAAAoB,QAAA,cACItB,KAAA,QAAKuB,SAAS,CAAC,WAAW,CAAAD,QAAA,eACtBxB,IAAA,QAAKyB,SAAS,CAAC,wCAAwC,CAAAD,QAAA,cACnDtB,KAAA,QAAKuB,SAAS,CAAC,4CAA4C,CAACC,KAAK,CAAE,CAAEC,YAAY,CAAE,EAAG,CAAE,CAAAH,QAAA,eACpFxB,IAAA,OAAI0B,KAAK,CAAE,CAAEC,YAAY,CAAE,EAAG,CAAE,CAAAH,QAAA,CAAC,mBAAc,CAAI,CAAC,cACpDxB,IAAA,OAAAwB,QAAA,CAAI,iCAAuB,CAAI,CAAC,EAC/B,CAAC,CACL,CAAC,cACNtB,KAAA,SAAM0B,QAAQ,CAAElB,YAAa,CAAAc,QAAA,eACzBtB,KAAA,QAAKuB,SAAS,CAAC,4BAA4B,CAACC,KAAK,CAAE,CAAEC,YAAY,CAAE,EAAG,CAAE,CAAAH,QAAA,eACpEtB,KAAA,QAAKuB,SAAS,CAAC,4CAA4C,CAAAD,QAAA,eACvDxB,IAAA,UAAO6B,OAAO,CAAC,UAAU,CAACJ,SAAS,CAAC,YAAY,CAAAD,QAAA,CAAC,OAAK,CAAO,CAAC,cAC9DxB,IAAA,UAAO8B,EAAE,CAAC,UAAU,CAACC,IAAI,CAAC,UAAU,CAACN,SAAS,CAAC,cAAc,CAACO,WAAW,CAAC,eAAe,CACrFC,QAAQ,CAAEtB,CAAC,EAAIH,WAAW,CAACG,CAAC,CAACuB,MAAM,CAACC,KAAK,CAAE,CAAQ,CAAC,EACvD,CAAC,cACNnC,IAAA,QAAKyB,SAAS,CAAC,4BAA4B,CAACC,KAAK,CAAE,CAAEC,YAAY,CAAE,MAAO,CAAE,CAAAH,QAAA,cACxExB,IAAA,QAAKyB,SAAS,CAAC,4CAA4C,CAAAD,QAAA,CAAC,uKAA2H,CAAK,CAAC,CAC5L,CAAC,EACL,CAAC,cACNxB,IAAA,QAAKyB,SAAS,CAAC,4BAA4B,CAAAD,QAAA,cACvCxB,IAAA,QAAKyB,SAAS,CAAC,4CAA4C,CAAAD,QAAA,cACvDxB,IAAA,QAAKyB,SAAS,CAAC,KAAK,CAAAD,QAAA,cAChBxB,IAAA,QAAKyB,SAAS,CAAC,KAAK,CAAAD,QAAA,cAChBxB,IAAA,WAAQ+B,IAAI,CAAC,QAAQ,CAACN,SAAS,CAAC,6DAA6D,CAAAD,QAAA,CAAC,aAAM,CAAQ,CAAC,CAC5G,CAAC,CACL,CAAC,CACL,CAAC,CACL,CAAC,EACJ,CAAC,EACN,CAAC,CACR,CAAC,CAEX,CAEA,cAAe,CAAAnB,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}