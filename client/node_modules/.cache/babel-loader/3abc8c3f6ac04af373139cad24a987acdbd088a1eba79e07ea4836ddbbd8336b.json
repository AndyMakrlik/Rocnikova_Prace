{"ast":null,"code":"import axios from 'axios';\nfunction checkAuth(navigate) {\n  return new Promise((resolve, reject) => {\n    axios.get('http://localhost:3001/check', {\n      withCredentials: true\n    }).then(res => {\n      if (res.data.Status !== \"Success\" || res.data.role !== \"Admin\") {\n        navigate(\"/\"); // Přesměrujeme uživatele na domovskou stránku\n      }\n      resolve(); // Ověření skončilo\n    }).catch(err => {\n      console.error(\"Chyba při ověřování:\", err);\n      navigate(\"/\"); // Přesměrujeme uživatele na domovskou stránku i při chybě\n      resolve(); // Ujistíme se, že proces pokračuje\n    });\n  });\n}\nexport default checkAuth;","map":{"version":3,"names":["axios","checkAuth","navigate","Promise","resolve","reject","get","withCredentials","then","res","data","Status","role","catch","err","console","error"],"sources":["C:/Users/denny/Documents/RocnikovaPrace3ITB/client/src/functions/checkAuthAdmin.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nfunction checkAuth(navigate) {\r\n    return new Promise((resolve, reject) => {\r\n        axios.get('http://localhost:3001/check', { withCredentials: true })\r\n            .then(res => {\r\n                if (res.data.Status !== \"Success\" || res.data.role !== \"Admin\") {\r\n                    navigate(\"/\"); // Přesměrujeme uživatele na domovskou stránku\r\n                }\r\n                resolve(); // Ověření skončilo\r\n            })\r\n            .catch(err => {\r\n                console.error(\"Chyba při ověřování:\", err);\r\n                navigate(\"/\"); // Přesměrujeme uživatele na domovskou stránku i při chybě\r\n                resolve(); // Ujistíme se, že proces pokračuje\r\n            });\r\n    });\r\n}\r\n\r\nexport default checkAuth;"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,SAASC,SAASA,CAACC,QAAQ,EAAE;EACzB,OAAO,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;IACpCL,KAAK,CAACM,GAAG,CAAC,6BAA6B,EAAE;MAAEC,eAAe,EAAE;IAAK,CAAC,CAAC,CAC9DC,IAAI,CAACC,GAAG,IAAI;MACT,IAAIA,GAAG,CAACC,IAAI,CAACC,MAAM,KAAK,SAAS,IAAIF,GAAG,CAACC,IAAI,CAACE,IAAI,KAAK,OAAO,EAAE;QAC5DV,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC;MACnB;MACAE,OAAO,CAAC,CAAC,CAAC,CAAC;IACf,CAAC,CAAC,CACDS,KAAK,CAACC,GAAG,IAAI;MACVC,OAAO,CAACC,KAAK,CAAC,sBAAsB,EAAEF,GAAG,CAAC;MAC1CZ,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC;MACfE,OAAO,CAAC,CAAC,CAAC,CAAC;IACf,CAAC,CAAC;EACV,CAAC,CAAC;AACN;AAEA,eAAeH,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}